---
- name: Ensure the system can use the HTTPS transport for APT
  stat: path=/usr/lib/apt/methods/https
  register: apt_https_transport

- name: Update APT package manager repositories cache
  become: true
  become_method: sudo
  apt:
    update_cache: yes

- name: Upgrade installed packages
  become: true
  become_method: sudo
  apt:
    upgrade: dist

- name: Install commons dependencies
  apt: name={{item}} state=present update_cache=yes
  with_items:
    - tree
    - curl
    - htop
    - wget
    - vim
    - git
